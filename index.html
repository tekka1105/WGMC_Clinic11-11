<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#319FCA" />
    <title>Will-Grundy Medical Clinic (WGMC)</title>
    <meta name="description" content="Free, dignified healthcare for Will & Grundy Counties. Learn how to get care at WGMC, view locations & hours, and contact us for help." />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />

    <!-- Brand tokens and base styles -->
    <link rel="stylesheet" href="./style.css" />

    <!-- Tailwind config (uses CSS variables for brand colors) -->
    <script>
      tailwind = window.tailwind || {};
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              brand: {
                primary: 'var(--brand-primary)',
                secondary: 'var(--brand-secondary)',
                black: 'var(--brand-black)',
                white: 'var(--brand-white)'
              },
              text: 'var(--text-color)',
              muted: 'var(--muted-bg)'
            },
            borderRadius: {
              brand: 'var(--radius)'
            },
            boxShadow: {
              card: 'var(--shadow)'
            }
          }
        }
      };
    </script>
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React + Babel (for JSX in this static prototype) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
      /* Section waves (simple SVG background) */
      .wave-top { position: relative; }
      .wave-top:before { content: ""; position: absolute; inset: -64px 0 auto 0; height: 64px; background: url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 1440 64%22><path fill=%22%23F5F8F9%22 d=%22M0,32L48,42.7C96,53,192,75,288,80C384,85,480,75,576,58.7C672,43,768,21,864,26.7C960,32,1056,64,1152,64C1248,64,1344,32,1392,16L1440,0L1440,64L1392,64C1344,64,1248,64,1152,64C1056,64,960,64,864,64C768,64,672,64,576,64C480,64,384,64,288,64C192,64,96,64,48,64L0,64Z"/></svg>') no-repeat center/cover; }
      .wave-bottom { position: relative; }
      .wave-bottom:after { content: ""; position: absolute; inset: auto 0 -64px 0; height: 64px; background: url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 1440 64%22><path fill=%22%23F5F8F9%22 d=%22M0,32L48,42.7C96,53,192,75,288,80C384,85,480,75,576,58.7C672,43,768,21,864,26.7C960,32,1056,64,1152,64C1248,64,1344,32,1392,16L1440,0L1440,64L1392,64C1344,64,1248,64,1152,64C1056,64,960,64,864,64C768,64,672,64,576,64C480,64,384,64,288,64C192,64,96,64,48,64L0,64Z"/></svg>') no-repeat center/cover; }
      /* Reveal animation */
      .reveal { opacity: 0; transform: translateY(16px); transition: opacity .6s ease, transform .6s ease; }
      .reveal.revealed { opacity: 1; transform: translateY(0); }
      /* Glass card */
      .glass { background: rgba(255,255,255,0.9); backdrop-filter: blur(6px); }
      /* Hero background image */
      .hero-bg { background-image: url('images/WGMC-seeing-Patients.png'); background-size: cover; background-position: center; }
      /* Dropdown animation */
      .menu-pop { opacity: 0; transform: translateY(-12px) scale(0.95); transition: opacity .2s ease, transform .2s cubic-bezier(.22,.61,.36,1); }
      .menu-pop.open { opacity: 1; transform: translateY(0) scale(1); }
      /* Hero parallax helper */
      .hero-parallax { will-change: background-position; }
    </style>
  </head>
  <body class="bg-white text-text font-sans">
    <a class="skip-link" href="#main">Skip to content</a>
    <div id="root"></div>

    <!-- Frontend-only analytics dispatcher (console + buffer) -->
    <script>
      (function () {
        const queue = [];
        const track = (event, props = {}) => {
          const payload = {
            event,
            ts: Date.now(),
            lang: new URLSearchParams(location.search).get('lang') || 'en',
            ...props
          };
          queue.push(payload);
          try {
            const stored = JSON.parse(localStorage.getItem('wgmcanalytics') || '[]');
            stored.push(payload);
            localStorage.setItem('wgmcanalytics', JSON.stringify(stored).slice(-5000));
          } catch (_) {}
          if (window.console && console.info) console.info('[analytics]', payload);
        };
        window.analytics = { track, queue };
      })();
    </script>

    <!-- App -->
    <script type="text/babel">
      const { useEffect, useMemo, useRef, useState } = React;

      // Simple reveal-on-scroll hook
      function useReveal() {
        const ref = useRef(null);
        useEffect(() => {
          const el = ref.current;
          if (!el) return;
          const io = new IntersectionObserver((entries) => {
            entries.forEach((e) => {
              if (e.isIntersecting) el.classList.add('revealed');
            });
          }, { threshold: 0.2 });
          io.observe(el);
          return () => io.disconnect();
        }, []);
        return ref;
      }

      function Reveal({ className = '', children }) {
        const ref = useReveal();
        return <div ref={ref} className={(className ? className + ' ' : '') + 'reveal'}>{children}</div>;
      }

      // Animated counter
      function Counter({ to = 0, suffix = '' }) {
        const [val, setVal] = useState(0);
        const ref = useRef(false);
        useEffect(() => {
          let raf; let start;
          const duration = 1200;
          const step = (ts) => {
            if (!start) start = ts;
            const p = Math.min(1, (ts - start) / duration);
            setVal(Math.floor(to * (0.5 - Math.cos(Math.PI * p) / 2)));
            if (p < 1) raf = requestAnimationFrame(step);
          };
          raf = requestAnimationFrame(step);
          return () => cancelAnimationFrame(raf);
        }, [to]);
        return <span>{val.toLocaleString()}{suffix}</span>;
      }

      // i18n dictionary
      const i18n = {
        en: {
          langCode: 'en',
          siteName: 'Will-Grundy Medical Clinic',
          needCare: 'Need Care? Call WGMC',
          callNow: 'Call (815) 726-3377',
          getCare: 'Get Care',
          findLocations: 'Find Locations',
          heroSub: 'Free healthcare for our community. Dignity, safety, and care for all.',
          tiles: {
            eligible: 'Am I Eligible?',
            whatToBring: 'What to Bring',
            findLocation: 'Find a Location',
            espanol: 'EspaÃ±ol'
          },
          volunteer: 'Volunteer with WGMC',
          volunteerCta: 'Open Volunteer Form',
          programs: 'Programs',
          learnMore: 'Learn More',
          locations: 'Locations & Hours',
          hours: 'Hours',
          openInMaps: 'Open in Maps',
          phone: 'Phone',
          addressLabel: 'Address',
          footerCols: { getCare: 'Get Care', programs: 'Programs', visit: 'Visit Us' },
          support: 'Support WGMC',
          donate: 'Donate',
          donateNow: 'Donate Now',
          sponsorPatient: 'Sponsor a Patient',
          generalDonation: 'General Donation',
          brickByBrick: 'Brick by Brick',
          mobile: { call: 'Call', directions: 'Directions', share: 'Share' },
          getCareFlow: 'How to Get Care',
          eligibility: 'Eligibility',
          documents: 'Documents',
          visit: 'Your Visit',
          aftercare: 'Aftercare',
          acc: {
            costs: 'Costs',
            confidentiality: 'Confidentiality',
            safety: 'Immigration Safety'
          },
          footer: 'Will-Grundy Medical Clinic â€” Free care for our community.',
          aboutHeading: 'About WGMC',
          aboutBlurb: 'WGMC is a free clinic serving uninsured and underinsured adults in Will & Grundy Counties. Volunteer providers offer primary and specialty care, diagnostics, medications, and compassionate support.',
          forPatients: 'Patient Information',
          alertText: 'Now welcoming new patients. Saturday clinics twice monthly by appointment.'
        },
        es: {
          langCode: 'es',
          siteName: 'ClÃ­nica MÃ©dica Will-Grundy',
          needCare: 'Â¿Necesita atenciÃ³n? Llame a WGMC',
          callNow: 'Llamar (815) 726-3377',
          getCare: 'Obtenga AtenciÃ³n',
          findLocations: 'Buscar Ubicaciones',
          heroSub: 'AtenciÃ³n mÃ©dica gratuita para nuestra comunidad. Dignidad y seguridad para todos.',
          tiles: {
            eligible: 'Â¿Soy elegible?',
            whatToBring: 'QuÃ© traer',
            findLocation: 'Buscar una ubicaciÃ³n',
            espanol: 'English'
          },
          volunteer: 'Sea voluntario con WGMC',
          volunteerCta: 'Abrir formulario de voluntarios',
          programs: 'Programas',
          learnMore: 'MÃ¡s informaciÃ³n',
          locations: 'Ubicaciones y horarios',
          hours: 'Horario',
          openInMaps: 'Abrir en Mapas',
          phone: 'TelÃ©fono',
          addressLabel: 'DirecciÃ³n',
          footerCols: { getCare: 'Obtenga AtenciÃ³n', programs: 'Programas', visit: 'VisÃ­tenos' },
          support: 'Apoye a WGMC',
          donate: 'Donar',
          donateNow: 'Donar ahora',
          sponsorPatient: 'Patrocinar a un paciente',
          generalDonation: 'DonaciÃ³n general',
          brickByBrick: 'Ladrillo por ladrillo',
          mobile: { call: 'Llamar', directions: 'CÃ³mo llegar', share: 'Compartir' },
          getCareFlow: 'CÃ³mo recibir atenciÃ³n',
          eligibility: 'Elegibilidad',
          documents: 'Documentos',
          visit: 'Su visita',
          aftercare: 'Cuidado posterior',
          acc: {
            costs: 'Costos',
            confidentiality: 'Confidencialidad',
            safety: 'Seguridad de inmigraciÃ³n'
          },
          footer: 'ClÃ­nica MÃ©dica Will-Grundy â€” AtenciÃ³n gratuita para nuestra comunidad.',
          aboutHeading: 'Acerca de WGMC',
          aboutBlurb: 'WGMC es una clÃ­nica gratuita que sirve a adultos sin seguro o con seguro insuficiente en los condados de Will y Grundy. Proveedores voluntarios brindan atenciÃ³n primaria y especializada, diagnÃ³sticos, medicamentos y apoyo compasivo.',
          forPatients: 'InformaciÃ³n para pacientes',
          alertText: 'Ahora aceptando nuevos pacientes. ClÃ­nicas de sÃ¡bado dos veces al mes con cita.'
        },
        pl: {
          langCode: 'pl',
          siteName: 'Przychodnia Medyczna Will-Grundy',
          needCare: 'Potrzebujesz opieki? ZadzwoÅ„ do WGMC',
          callNow: 'ZadzwoÅ„ (815) 726-3377',
          getCare: 'Uzyskaj opiekÄ™',
          findLocations: 'ZnajdÅº lokalizacje',
          heroSub: 'BezpÅ‚atna opieka zdrowotna dla naszej spoÅ‚ecznoÅ›ci. GodnoÅ›Ä‡, bezpieczeÅ„stwo i opieka dla wszystkich.',
          tiles: {
            eligible: 'Czy siÄ™ kwalifikujÄ™?',
            whatToBring: 'Co zabraÄ‡',
            findLocation: 'ZnajdÅº lokalizacjÄ™',
            espanol: 'EspaÃ±ol'
          },
          volunteer: 'Wolontariat w WGMC',
          volunteerCta: 'OtwÃ³rz formularz wolontariusza',
          programs: 'Programy',
          learnMore: 'Dowiedz siÄ™ wiÄ™cej',
          locations: 'Lokalizacje i godziny',
          hours: 'Godziny',
          openInMaps: 'OtwÃ³rz w Mapach',
          phone: 'Telefon',
          addressLabel: 'Adres',
          footerCols: { getCare: 'Uzyskaj opiekÄ™', programs: 'Programy', visit: 'OdwiedÅº nas' },
          support: 'Wesprzyj WGMC',
          donate: 'PrzekaÅ¼ darowiznÄ™',
          donateNow: 'PrzekaÅ¼ darowiznÄ™ teraz',
          sponsorPatient: 'Sfinansuj pacjenta',
          generalDonation: 'Darowizna ogÃ³lna',
          brickByBrick: 'CegieÅ‚ka po cegieÅ‚ce',
          mobile: { call: 'ZadzwoÅ„', directions: 'WskazÃ³wki dojazdu', share: 'UdostÄ™pnij' },
          getCareFlow: 'Jak uzyskaÄ‡ opiekÄ™',
          eligibility: 'KwalifikowalnoÅ›Ä‡',
          documents: 'Dokumenty',
          visit: 'Twoja wizyta',
          aftercare: 'Opieka po wizycie',
          acc: {
            costs: 'Koszty',
            confidentiality: 'PoufnoÅ›Ä‡',
            safety: 'BezpieczeÅ„stwo imigracyjne'
          },
          footer: 'Will-Grundy Medical Clinic â€” BezpÅ‚atna opieka dla naszej spoÅ‚ecznoÅ›ci.',
          aboutHeading: 'O WGMC',
          aboutBlurb: 'WGMC to bezpÅ‚atna przychodnia dla nieubezpieczonych i niedoubezpieczonych dorosÅ‚ych w powiatach Will i Grundy. Wolontariusze zapewniajÄ… opiekÄ™ podstawowÄ… i specjalistycznÄ…, diagnostykÄ™, leki oraz Å¼yczliwe wsparcie.',
          forPatients: 'Informacje dla pacjentÃ³w',
          alertText: 'Przyjmujemy nowych pacjentÃ³w. Sobotnie kliniki dwa razy w miesiÄ…cu po wczeÅ›niejszym umÃ³wieniu wizyty.'
        },
        ar: {
          langCode: 'ar',
          siteName: 'Ø¹ÙŠØ§Ø¯Ø© ÙˆÙŠÙ„-ØºØ±Ù†Ø¯ÙŠ Ø§Ù„Ø·Ø¨ÙŠØ©',
          needCare: 'ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø±Ø¹Ø§ÙŠØ©ØŸ Ø§ØªØµÙ„ Ø¨Ù€ WGMC',
          callNow: 'Ø§ØªØµÙ„ Ø¹Ù„Ù‰ â€(815) 726-3377â€',
          getCare: 'Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø¹Ø§ÙŠØ©',
          findLocations: 'Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹',
          heroSub: 'Ø±Ø¹Ø§ÙŠØ© ØµØ­ÙŠØ© Ù…Ø¬Ø§Ù†ÙŠØ© Ù„Ù…Ø¬ØªÙ…Ø¹Ù†Ø§. Ø§Ù„ÙƒØ±Ø§Ù…Ø© ÙˆØ§Ù„Ø³Ù„Ø§Ù…Ø© ÙˆØ§Ù„Ø±Ø¹Ø§ÙŠØ© Ù„Ù„Ø¬Ù…ÙŠØ¹.',
          tiles: {
            eligible: 'Ù‡Ù„ Ø£Ù†Ø§ Ù…Ø¤Ù‡Ù„ØŸ',
            whatToBring: 'Ù…Ø§Ø°Ø§ Ø£Ø­Ø¶Ø±ØŸ',
            findLocation: 'Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…ÙˆÙ‚Ø¹',
            espanol: 'EspaÃ±ol'
          },
          volunteer: 'Ø§Ù„ØªØ·ÙˆØ¹ Ù…Ø¹ WGMC',
          volunteerCta: 'ÙØªØ­ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…ØªØ·ÙˆØ¹ÙŠÙ†',
          programs: 'Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬',
          learnMore: 'Ù…Ø¹Ø±ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯',
          locations: 'Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ ÙˆØ³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„',
          hours: 'Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„',
          openInMaps: 'Ø§ÙØªØ­ ÙÙŠ Ø§Ù„Ø®Ø±Ø§Ø¦Ø·',
          phone: 'Ø§Ù„Ù‡Ø§ØªÙ',
          addressLabel: 'Ø§Ù„Ø¹Ù†ÙˆØ§Ù†',
          footerCols: { getCare: 'Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø¹Ø§ÙŠØ©', programs: 'Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬', visit: 'Ø²Ø±Ù†Ø§' },
          support: 'Ø¯Ø¹Ù… WGMC',
          donate: 'Ø§Ù„ØªØ¨Ø±Ø¹',
          donateNow: 'ØªØ¨Ø±Ø¹ Ø§Ù„Ø¢Ù†',
          sponsorPatient: 'Ø±Ø¹Ø§ÙŠØ© Ù…Ø±ÙŠØ¶',
          generalDonation: 'ØªØ¨Ø±Ø¹ Ø¹Ø§Ù…',
          brickByBrick: 'Ø·ÙˆØ¨Ø© ØªÙ„Ùˆ Ø§Ù„Ø£Ø®Ø±Ù‰',
          mobile: { call: 'Ø§ØªØµÙ„', directions: 'Ø§Ù„Ø§ØªØ¬Ø§Ù‡Ø§Øª', share: 'Ù…Ø´Ø§Ø±ÙƒØ©' },
          getCareFlow: 'ÙƒÙŠÙÙŠØ© Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø¹Ø§ÙŠØ©',
          eligibility: 'Ø§Ù„Ø£Ù‡Ù„ÙŠØ©',
          documents: 'Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª',
          visit: 'Ø²ÙŠØ§Ø±ØªÙƒ',
          aftercare: 'Ø§Ù„Ø±Ø¹Ø§ÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„Ø²ÙŠØ§Ø±Ø©',
          acc: {
            costs: 'Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ',
            confidentiality: 'Ø§Ù„Ø³Ø±ÙŠØ©',
            safety: 'Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ø¬Ø±ÙŠÙ†'
          },
          footer: 'Ø¹ÙŠØ§Ø¯Ø© ÙˆÙŠÙ„-ØºØ±Ù†Ø¯ÙŠ Ø§Ù„Ø·Ø¨ÙŠØ© â€” Ø±Ø¹Ø§ÙŠØ© Ù…Ø¬Ø§Ù†ÙŠØ© Ù„Ù…Ø¬ØªÙ…Ø¹Ù†Ø§.',
          aboutHeading: 'Ø­ÙˆÙ„ WGMC',
          aboutBlurb: 'WGMC Ù‡ÙŠ Ø¹ÙŠØ§Ø¯Ø© Ù…Ø¬Ø§Ù†ÙŠØ© ØªØ®Ø¯Ù… Ø§Ù„Ø¨Ø§Ù„ØºÙŠÙ† ØºÙŠØ± Ø§Ù„Ù…Ø¤Ù…Ù† Ø¹Ù„ÙŠÙ‡Ù… Ø£Ùˆ Ù…Ù† Ù„Ø¯ÙŠÙ‡Ù… ØªØ£Ù…ÙŠÙ† ØºÙŠØ± ÙƒØ§ÙÙ ÙÙŠ Ù…Ù‚Ø§Ø·Ø¹ØªÙŠ ÙˆÙŠÙ„ ÙˆØºØ±Ù†Ø¯ÙŠ. ÙŠÙ‚Ø¯Ù… Ù…Ù‚Ø¯Ù…Ùˆ Ø®Ø¯Ù…Ø§Øª Ù…ØªØ·ÙˆØ¹ÙˆÙ† Ø±Ø¹Ø§ÙŠØ© Ø£ÙˆÙ„ÙŠØ© ÙˆÙ…ØªØ®ØµØµØ© ÙˆØªØ´Ø®ÙŠØµØ§Øª ÙˆØ£Ø¯ÙˆÙŠØ© ÙˆØ¯Ø¹Ù…Ù‹Ø§ Ù…ØªØ¹Ø§Ø·ÙÙ‹Ø§.',
          forPatients: 'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù„Ù„Ù…Ø±Ø¶Ù‰',
          alertText: 'Ù†Ø³ØªÙ‚Ø¨Ù„ Ø§Ù„Ø¢Ù† Ù…Ø±Ø¶Ù‰ Ø¬Ø¯Ø¯. Ø¹ÙŠØ§Ø¯Ø§Øª Ø§Ù„Ø³Ø¨Øª Ù…Ø±ØªØ§Ù† ÙÙŠ Ø§Ù„Ø´Ù‡Ø± Ø­Ø³Ø¨ Ø§Ù„Ù…ÙˆØ¹Ø¯.'
        }
      };

      function useLang() {
        const params = new URLSearchParams(location.search);
        const raw = (params.get('lang') || localStorage.getItem('wgmc_lang') || navigator.language || 'en')
          .toString()
          .slice(0, 2)
          .toLowerCase();
        const supported = ['en', 'es', 'pl', 'ar'];
        const initial = supported.includes(raw) ? raw : 'en';
        const [lang, setLang] = useState(initial);
        useEffect(() => {
          document.documentElement.lang = lang;
          document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
          localStorage.setItem('wgmc_lang', lang);
          const url = new URL(location.href);
          url.searchParams.set('lang', lang);
          window.history.replaceState({}, '', url);
        }, [lang]);
        return [lang, setLang];
      }

      const Logo = () => (
        <div className="flex items-center gap-3" aria-label="WGMC logo">
          <img
            src="images/WGMC-Logo-Alternate-1-website.jpg"
            alt="WGMC logo"
            className="h-8 w-auto"
          />
          <span className="font-semibold text-brand-primary hidden sm:inline">WGMC</span>
        </div>
      );

      function Header({ t, lang, onToggleLang }) {
        const [open, setOpen] = useState(false);
        const [progOpen, setProgOpen] = useState(false);
        const [mobileProgOpen, setMobileProgOpen] = useState(false);
        const progRef = useRef(null);
        const progBtnRef = useRef(null);
        const progItemsRef = useRef([]);
        const hoverTimer = useRef(null);
        useEffect(() => {
          const onDocClick = (e) => {
            if (progRef.current && !progRef.current.contains(e.target)) setProgOpen(false);
          };
          const onEsc = (e) => {
            if (e.key === 'Escape') { setProgOpen(false); progBtnRef.current && progBtnRef.current.focus(); }
          };
          document.addEventListener('click', onDocClick);
          document.addEventListener('keydown', onEsc);
          return () => { document.removeEventListener('click', onDocClick); document.removeEventListener('keydown', onEsc); };
        }, []);
        const openProg = (focusFirst = false) => {
          setProgOpen(true);
          if (focusFirst) setTimeout(() => { progItemsRef.current[0]?.focus(); }, 0);
        };
        const closeProg = () => setProgOpen(false);
        const onProgKeyDown = (e) => {
          const items = progItemsRef.current.filter(Boolean);
          const idx = items.indexOf(document.activeElement);
          if (e.key === 'ArrowDown') { e.preventDefault(); (items[(idx + 1 + items.length) % items.length] || items[0])?.focus(); }
          if (e.key === 'ArrowUp') { e.preventDefault(); (items[(idx - 1 + items.length) % items.length] || items[items.length - 1])?.focus(); }
          if (e.key === 'Home') { e.preventDefault(); items[0]?.focus(); }
          if (e.key === 'End') { e.preventDefault(); items[items.length - 1]?.focus(); }
        };
        return (
          <header className="sticky top-0 z-50 bg-white/90 backdrop-blur border-b border-slate-200">
            <nav className="max-w-6xl mx-auto px-4 sm:px-6 py-3 flex items-center justify-between" aria-label="Main">
              <a href="#home" className="focus:outline-none focus-visible:ring-2 ring-brand-secondary rounded-md">
                <Logo />
                <span className="sr-only">{t.siteName}</span>
              </a>
              <button
                className="md:hidden inline-flex items-center justify-center h-10 w-10 rounded-md border border-slate-300 text-slate-700"
                aria-label="Open menu"
                aria-expanded={open}
                onClick={() => { const next = !open; setOpen(next); window.analytics.track(next ? 'nav_open' : 'nav_close'); }}
              >â˜°</button>
              <div className="hidden md:flex items-center gap-6 text-sm font-semibold">
                <a href="#get-care" className="hover:text-brand-primary focus-visible:outline-none focus-visible:ring-2 ring-brand-secondary rounded-md">{t.getCare}</a>
                <div
                  className="relative"
                  ref={progRef}
                  onPointerEnter={() => { clearTimeout(hoverTimer.current); openProg(false); }}
                  onPointerLeave={() => { hoverTimer.current = setTimeout(() => closeProg(), 120); }}
                >
                  <button
                    ref={progBtnRef}
                    className="inline-flex items-center gap-1 px-2 py-2 rounded-md hover:text-brand-primary focus-visible:outline-none focus-visible:ring-2 ring-brand-secondary"
                    aria-haspopup="menu"
                    aria-expanded={progOpen}
                    aria-controls="programs-menu"
                    onClick={() => { const n = !progOpen; setProgOpen(n); if (n) { window.analytics.track('nav_open_submenu', { id: 'programs' }); setTimeout(() => progItemsRef.current[0]?.focus(), 0); } }}
                    onKeyDown={(e) => { if (e.key === 'ArrowDown') { e.preventDefault(); if (!progOpen) openProg(true); else progItemsRef.current[0]?.focus(); } if (e.key === 'ArrowUp') { e.preventDefault(); if (!progOpen) openProg(true); else progItemsRef.current[progItemsRef.current.length - 1]?.focus(); } }}
                  >
                    {t.programs} <span aria-hidden>â–¾</span>
                  </button>
                  <div
                    className={`absolute left-1/2 top-full mt-3 -translate-x-1/2 transform z-20 ${progOpen ? '' : 'pointer-events-none'}`}
                    style={{ pointerEvents: progOpen ? 'auto' : 'none' }}
                  >
                    <div
                      id="programs-menu"
                      role="menu"
                      aria-label="Programs"
                      className={`menu-pop w-80 rounded-brand bg-white shadow-card border border-slate-200 p-2 ${progOpen ? 'open' : ''}`}
                      onKeyDown={onProgKeyDown}
                    >
                      <a ref={(el) => (progItemsRef.current[0] = el)} role="menuitem" className="block px-3 py-2.5 rounded-md hover:bg-muted focus-visible:outline-none focus-visible:ring-2 ring-brand-secondary" href={`program-traditional.html?lang=${lang}`}>{lang === 'en' ? 'Traditional Program' : 'Programa Tradicional'}</a>
                      <a ref={(el) => (progItemsRef.current[1] = el)} role="menuitem" className="block px-3 py-2.5 rounded-md hover:bg-muted focus-visible:outline-none focus-visible:ring-2 ring-brand-secondary" href={`program-partnership.html?lang=${lang}`}>{lang === 'en' ? 'WGMC Partnership Program' : 'Programa de Alianzas WGMC'}</a>
                      <a ref={(el) => (progItemsRef.current[2] = el)} role="menuitem" className="block px-3 py-2.5 rounded-md hover:bg-muted focus-visible:outline-none focus-visible:ring-2 ring-brand-secondary" href={`program-hhh.html?lang=${lang}`}>{lang === 'en' ? 'Housing, Healthcare, and Hope (HHH)' : 'Vivienda, Salud y Esperanza (HHH)'}</a>
                      <a ref={(el) => (progItemsRef.current[3] = el)} role="menuitem" className="block px-3 py-2.5 rounded-md hover:bg-muted focus-visible:outline-none focus-visible:ring-2 ring-brand-secondary" href={`program-cahpb.html?lang=${lang}`}>{lang === 'en' ? 'CAHPB' : 'CAHPB'}</a>
                    </div>
                  </div>
                </div>
                <a href="#locations" className="hover:text-brand-primary focus-visible:outline-none focus-visible:ring-2 ring-brand-secondary rounded-md">{t.locations}</a>
                <a href="#volunteer" className="hover:text-brand-primary focus-visible:outline-none focus-visible:ring-2 ring-brand-secondary rounded-md">{t.volunteer}</a>
              </div>
              <div className="flex items-center gap-2">
                <a
                  href="https://www.paypal.com/donate/?hosted_button_id=QB3XVPDN3EBDJ"
                  target="_blank" rel="noreferrer"
                  onClick={() => window.analytics.track('donate_click', { placement: 'header', kind: 'general' })}
                  className="hidden sm:inline-flex btn btn-secondary"
                >
                  {t.donate}
                </a>
                <div className="lang-select-wrapper">
                  <select
                    className="lang-select"
                    aria-label="Change language"
                    value={lang}
                    onChange={(e) => {
                      const next = e.target.value;
                      onToggleLang(next);
                      window.analytics.track('lang_toggle', { to: next });
                    }}
                  >
                    <option value="en">English</option>
                    <option value="es">EspaÃ±ol</option>
                    <option value="pl">Polski</option>
                    <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                  </select>
                  <span className="lang-select-arrow" aria-hidden="true">
                    <svg viewBox="0 0 24 24" width="16" height="16" focusable="false">
                      <path fill="currentColor" d="M7 10l5 5 5-5H7z" />
                    </svg>
                  </span>
                </div>
                <a
                  href="tel:+18157263377"
                  onClick={() => window.analytics.track('click_call')}
                  className="hidden sm:inline-flex btn btn-primary"
                >
                  <span className="mr-2">ğŸ“</span> {t.callNow}
                </a>
              </div>
            </nav>
            {open && (
              <div className="md:hidden border-t border-slate-200 bg-white">
                <div className="max-w-6xl mx-auto px-4 py-3 grid gap-2 text-sm font-semibold">
                  <a onClick={() => setOpen(false)} className="py-2" href="#get-care">{t.getCare}</a>
                  <button
                    className="py-3 text-left flex items-center justify-between"
                    aria-expanded={mobileProgOpen}
                    aria-controls="mobile-programs"
                    onClick={() => setMobileProgOpen(v => !v)}
                  >
                    <span>{t.programs}</span>
                    <span aria-hidden>{mobileProgOpen ? 'â–´' : 'â–¾'}</span>
                  </button>
                  {mobileProgOpen && (
                    <div id="mobile-programs" className="pl-3 grid gap-1 text-slate-700">
                      <a onClick={() => setOpen(false)} className="py-1" href={`program-traditional.html?lang=${lang}` }>{lang === 'en' ? 'Traditional Program' : 'Programa Tradicional'}</a>
                      <a onClick={() => setOpen(false)} className="py-1" href={`program-partnership.html?lang=${lang}` }>{lang === 'en' ? 'WGMC Partnership Program' : 'Programa de Alianzas WGMC'}</a>
                      <a onClick={() => setOpen(false)} className="py-1" href={`program-hhh.html?lang=${lang}` }>{lang === 'en' ? 'Housing, Healthcare, and Hope (HHH)' : 'Vivienda, Salud y Esperanza (HHH)'}</a>
                      <a onClick={() => setOpen(false)} className="py-1" href={`program-cahpb.html?lang=${lang}` }>{lang === 'en' ? 'CAHPB' : 'CAHPB'}</a>
                    </div>
                  )}
                  <a onClick={() => setOpen(false)} className="py-2" href="#locations">{t.locations}</a>
                  <a onClick={() => setOpen(false)} className="py-2" href="#volunteer">{t.volunteer}</a>
                  <a onClick={() => { setOpen(false); window.analytics.track('donate_click', { placement: 'mobile_menu', kind: 'general' }); }} className="py-2" href="https://www.paypal.com/donate/?hosted_button_id=QB3XVPDN3EBDJ" target="_blank" rel="noreferrer">{t.donate}</a>
                </div>
              </div>
            )}
          </header>
        );
      }

      function AlertBar({ t }) {
        const [show, setShow] = useState(true);
        if (!show) return null;
        return (
          <div className="bg-brand-secondary text-brand-black">
            <div className="max-w-6xl mx-auto px-4 sm:px-6 py-2 flex flex-col sm:flex-row items-center sm:items-center gap-2 text-sm text-center sm:text-left">
              <div className="font-semibold leading-tight flex-1 min-w-0 break-words">
                <span className="inline-block w-full text-balance">{t.alertText}</span>
              </div>
              <button
                onClick={() => { setShow(false); window.analytics.track('alert_dismiss'); }}
                aria-label="Dismiss"
                className="rounded-md px-3 py-1 border border-brand-black/20 text-base sm:text-sm"
              >
                âœ•
              </button>
            </div>
          </div>
        );
      }

      function Hero({ t }) {
        const ref = useRef(null);
        useEffect(() => {
          const io = new IntersectionObserver((entries) => {
            entries.forEach((e) => {
              if (e.isIntersecting) {
                window.analytics.track('view_hero');
              }
            });
          }, { threshold: 0.6 });
          if (ref.current) io.observe(ref.current);
          return () => io.disconnect();
        }, []);
        useEffect(() => {
          const el = ref.current;
          if (!el) return;
          const start = el.offsetTop;
          const overlay = el.querySelector('.hero-overlay');
          const onScroll = () => {
            const rect = el.getBoundingClientRect();
            const raw = (window.scrollY - start);
            // Progress from 0 (top of hero) to 1 (bottom passed)
            const progress = Math.min(1, Math.max(0, (0 - rect.top) / (rect.height || 1)));
            // Ease-in factor so it feels natural at first, stronger later
            const easeIn = progress * progress; // quadratic ease-in
            const multiplier = 0.06 + 0.34 * easeIn; // starts subtle, grows
            const offset = raw * multiplier;
            el.style.backgroundPosition = `center ${Math.round(-offset)}px`;
            if (overlay) {
              // Start slightly lighter and deepen subtly as the user scrolls
              overlay.style.opacity = String(0.70 + 0.25 * Math.min(1, progress));
            }
          };
          window.addEventListener('scroll', onScroll, { passive: true });
          onScroll();
          return () => window.removeEventListener('scroll', onScroll);
        }, []);
        return (
          <section id="home" ref={ref} className="relative overflow-hidden bg-muted wave-bottom hero-parallax" style={{ backgroundImage: `url('images/5B2CF5DE-9BD5-420E-B7EB-695F1D55A4AF-scaled-2.jpeg')`, backgroundSize: 'cover', backgroundPosition: 'center 0px' }}>
            <div aria-hidden className="hero-overlay absolute inset-0 bg-gradient-to-br from-white/70 via-white/50 to-brand-secondary/20"></div>
            <div className="absolute -top-8 -right-8 h-40 w-40 rounded-full bg-brand-primary/20 blur-2xl" aria-hidden></div>
            <div className="relative max-w-6xl mx-auto px-4 sm:px-6 py-12 sm:py-16 grid md:grid-cols-2 gap-10 items-center">
              <Reveal>
                <h1 className="text-3xl sm:text-4xl font-bold text-brand-primary tracking-tight">
                  {t.needCare}
                </h1>
                <p className="mt-4 text-lg text-slate-700">{t.heroSub}</p>
                <div className="mt-6 flex flex-wrap gap-3">
                  <a
                    href="tel:+18157263377"
                    onClick={() => window.analytics.track('click_call')}
                    className="btn btn-primary pulse"
                  >
                    <span className="mr-2">ğŸ“</span> {t.callNow}
                  </a>
                  <a
                    href="#get-care"
                    onClick={() => window.analytics.track('click_get_care')}
                    className="btn btn-outline"
                  >
                    {t.getCare}
                  </a>
                  <a
                    href="#locations"
                    className="btn btn-neutral"
                  >
                    {t.findLocations}
                  </a>
                </div>
                <div className="mt-8 grid grid-cols-2 sm:grid-cols-4 gap-3">
                  <div className="glass rounded-brand shadow-card p-4 text-center">
                    <div className="text-2xl font-bold text-brand-primary"><Counter to={1200} /></div>
                    <div className="text-xs text-slate-600">Patients / year</div>
                  </div>
                  <div className="glass rounded-brand shadow-card p-4 text-center">
                    <div className="text-2xl font-bold text-brand-primary"><Counter to={3500} /></div>
                    <div className="text-xs text-slate-600">Visits / year</div>
                  </div>
                  <div className="glass rounded-brand shadow-card p-4 text-center">
                    <div className="text-2xl font-bold text-brand-primary"><Counter to={35} suffix={'+ '} /></div>
                    <div className="text-xs text-slate-600">Years Serving</div>
                  </div>
                  <div className="glass rounded-brand shadow-card p-4 text-center">
                    <div className="text-2xl font-bold text-brand-primary"><Counter to={200} /></div>
                    <div className="text-xs text-slate-600">Volunteer Providers</div>
                  </div>
                </div>
              </Reveal>
              <Reveal className="hidden md:flex justify-center">
                <img src="images/WGMC-In-Community.png" loading="lazy" alt="WGMC in community" className="max-w-sm w-full rounded-2xl shadow-card" />
              </Reveal>
            </div>
          </section>
        );
      }

      function PhotoStrip() {
        const photos = [
          { src: 'images/1E325562-7F25-48EA-9204-458F7F837568_1_201_a-scaled.jpeg', alt: 'WGMC volunteers and patients' },
          { src: 'images/9D7366CA-9E18-4867-B3B8-4C4EB12CBFE8_1_201_a-1024x683.jpeg', alt: 'Community health outreach' },
          { src: 'images/56BF34F3-FE6F-4A91-9D9A-95FD834DE187_1_201_a-1024x692.jpeg', alt: 'Clinic team supporting patients' },
          { src: 'images/WGMC-seeing-Patients.png', alt: 'Providers seeing patients' },
          { src: 'images/WGMC-In-Community.png', alt: 'WGMC in the community' }
        ];
        return (
          <section className="bg-white/60">
            <div className="max-w-6xl mx-auto px-4 sm:px-6 py-6">
              <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3">
                {photos.map((p, i) => (
                  <div key={i} className="rounded-brand overflow-hidden shadow-card border border-slate-100 bg-white">
                    <img src={p.src} alt={p.alt} loading="lazy" className="h-28 w-full object-cover" />
                  </div>
                ))}
              </div>
            </div>
          </section>
        );
      }

      function ImpactStats() {
        const ref = useReveal();
        return (
          <section className="bg-white wave-top wave-bottom">
            <div ref={ref} className="max-w-6xl mx-auto px-4 sm:px-6 py-12 grid grid-cols-2 sm:grid-cols-4 gap-6 text-center reveal">
              <div className="rounded-brand bg-white shadow-card p-6">
                <div className="text-3xl font-bold text-brand-primary"><Counter to={1200} /></div>
                <div className="mt-1 text-sm text-slate-600">Patients Served / year</div>
              </div>
              <div className="rounded-brand bg-white shadow-card p-6">
                <div className="text-3xl font-bold text-brand-primary"><Counter to={3500} /></div>
                <div className="mt-1 text-sm text-slate-600">Visits / year</div>
              </div>
              <div className="rounded-brand bg-white shadow-card p-6">
                <div className="text-3xl font-bold text-brand-primary"><Counter to={35} suffix={'+ '} /></div>
                <div className="mt-1 text-sm text-slate-600">Years Serving</div>
              </div>
              <div className="rounded-brand bg-white shadow-card p-6">
                <div className="text-3xl font-bold text-brand-primary"><Counter to={200} /></div>
                <div className="mt-1 text-sm text-slate-600">Volunteer Providers</div>
              </div>
            </div>
          </section>
        );
      }

      function Accordion({ title, children, onOpen }) {
        const [open, setOpen] = useState(false);
        return (
          <div className="border border-slate-200 rounded-brand bg-white">
            <button
              className="w-full flex items-center justify-between p-4 text-left font-semibold focus-visible:outline-none focus-visible:ring-2 ring-brand-secondary rounded-brand"
              aria-expanded={open}
              onClick={() => {
                const next = !open;
                setOpen(next);
                if (next && onOpen) onOpen();
              }}
            >
              <span>{title}</span>
              <span aria-hidden className="ml-2">{open ? 'âˆ’' : '+'}</span>
            </button>
            {open && <div className="p-4 pt-0 text-slate-700">{children}</div>}
          </div>
        );
      }

      function GetCare({ t }) {
        return (
          <section id="get-care" className="bg-brand-wash wave-top wave-bottom">
            <div className="max-w-6xl mx-auto px-4 sm:px-6 py-12">
              <h2 className="text-2xl font-bold text-brand-primary heading-accent">{t.getCareFlow}</h2>
              <div className="brand-divider mt-4" aria-hidden></div>
              <div className="mt-6 grid md:grid-cols-2 gap-4">
                <div id="get-care-eligibility" className="rounded-brand bg-white shadow-card p-5">
                  <h3 className="font-semibold">{t.eligibility}</h3>
                  <p className="mt-2 text-slate-700">
                    {t.langCode === 'en'
                      ? 'WGMC serves uninsured or underinsured adults. If you are unsure, please call us.'
                      : 'WGMC atiende a adultos sin seguro o con seguro insuficiente. Si no estÃ¡ seguro, llÃ¡menos.'}
                  </p>
                </div>
                <div id="get-care-documents" className="rounded-brand bg-white shadow-card p-5">
                  <h3 className="font-semibold">{t.documents}</h3>
                  <p className="mt-2 text-slate-700">
                    {t.langCode === 'en'
                      ? 'Bring an ID (if you have one) and any medical notes or medications.'
                      : 'Traiga una identificaciÃ³n (si tiene) y cualquier nota mÃ©dica o medicamentos.'}
                  </p>
                </div>
                <div className="rounded-brand bg-white shadow-card p-5">
                  <h3 className="font-semibold">{t.visit}</h3>
                  <p className="mt-2 text-slate-700">
                    {t.langCode === 'en'
                      ? 'Friendly staff will guide you through your visit. Interpreters available.'
                      : 'Personal amable lo guiarÃ¡ durante su visita. IntÃ©rpretes disponibles.'}
                  </p>
                </div>
                <div className="rounded-brand bg-white shadow-card p-5">
                  <h3 className="font-semibold">{t.aftercare}</h3>
                  <p className="mt-2 text-slate-700">
                    {t.langCode === 'en'
                      ? 'We help with follow-ups, referrals, and medications when possible.'
                      : 'Ayudamos con seguimientos, referencias y medicamentos cuando sea posible.'}
                  </p>
                </div>
              </div>

              <div className="mt-8 space-y-3">
                <Accordion title={t.acc.costs} onOpen={() => window.analytics.track('accordion_open', { id: 'costs' })}>
                  {t.langCode === 'en'
                    ? 'Care is free. Donations are welcome but never required.'
                    : 'La atenciÃ³n es gratuita. Se aceptan donaciones pero nunca son obligatorias.'}
                </Accordion>
                <Accordion title={t.acc.confidentiality} onOpen={() => window.analytics.track('accordion_open', { id: 'confidentiality' })}>
                  {t.langCode === 'en'
                    ? 'Your visit is private. We follow strict confidentiality rules.'
                    : 'Su visita es privada. Seguimos reglas estrictas de confidencialidad.'}
                </Accordion>
                <Accordion title={t.acc.safety} onOpen={() => window.analytics.track('accordion_open', { id: 'safety' })}>
                  {t.langCode === 'en'
                    ? 'WGMC is a safe place. We do not share information with immigration authorities.'
                    : 'WGMC es un lugar seguro. No compartimos informaciÃ³n con autoridades de inmigraciÃ³n.'}
                </Accordion>
              </div>
            </div>
          </section>
        );
      }

      function Programs({ t, lang }) {
        const titles = {
          traditional: {
            en: 'Traditional Program',
            es: 'Programa Tradicional',
            pl: 'Program tradycyjny',
            ar: 'Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠ'
          },
          partnership: {
            en: 'WGMC Partnership Program',
            es: 'Programa de Alianzas WGMC',
            pl: 'Program partnerski WGMC',
            ar: 'Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ø´Ø±Ø§ÙƒØ© WGMC'
          },
          hhh: {
            en: 'Housing, Healthcare, and Hope (HHH)',
            es: 'Vivienda, Salud y Esperanza (HHH)',
            pl: 'Mieszkanie, zdrowie i nadzieja (HHH)',
            ar: 'Ø§Ù„Ø³ÙƒÙ† ÙˆØ§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„ØµØ­ÙŠØ© ÙˆØ§Ù„Ø£Ù…Ù„ (HHH)'
          },
          cahpb: {
            en: 'Center for Advancement of Human Potential & Belonging (CAHPB)',
            es: 'Centro para el Avance del Potencial Humano y Pertenencia (CAHPB)',
            pl: 'Centrum Rozwoju PotencjaÅ‚u Ludzkiego i PrzynaleÅ¼noÅ›ci (CAHPB)',
            ar: 'Ù…Ø±ÙƒØ² ØªØ·ÙˆÙŠØ± Ø§Ù„Ø¥Ù…ÙƒØ§Ù†Ø§Øª Ø§Ù„Ø¨Ø´Ø±ÙŠØ© ÙˆØ§Ù„Ø§Ù†ØªÙ…Ø§Ø¡ (CAHPB)'
          }
        };
        const descriptions = {
          traditional: {
            en: 'Free clinic care for uninsured neighbors via volunteer providers and referrals.',
            es: 'AtenciÃ³n gratuita para vecinos sin seguro a travÃ©s de proveedores voluntarios y derivaciones.',
            pl: 'BezpÅ‚atna opieka kliniczna dla nieubezpieczonych mieszkaÅ„cÃ³w dziÄ™ki wolontariuszom i sieci skierowaÅ„.',
            ar: 'Ø±Ø¹Ø§ÙŠØ© Ø¹ÙŠØ§Ø¯ÙŠØ© Ù…Ø¬Ø§Ù†ÙŠØ© Ù„Ù„Ø¬ÙŠØ±Ø§Ù† ØºÙŠØ± Ø§Ù„Ù…Ø¤Ù…Ù† Ø¹Ù„ÙŠÙ‡Ù… Ù…Ù† Ø®Ù„Ø§Ù„ Ù…Ù‚Ø¯Ù…ÙŠ Ø®Ø¯Ù…Ø§Øª Ù…ØªØ·ÙˆØ¹ÙŠÙ† ÙˆØ´Ø¨ÙƒØ© Ø¥Ø­Ø§Ù„Ø©.'
          },
          partnership: {
            en: 'Holistic care with Will County CHC: wellness/primary, ancillary services, and medications.',
            es: 'AtenciÃ³n holÃ­stica con Will County CHC: bienestar/primaria, servicios auxiliares y medicamentos.',
            pl: 'Holistyczna opieka z Will County CHC: profilaktyka i opieka podstawowa, usÅ‚ugi dodatkowe i leki.',
            ar: 'Ø±Ø¹Ø§ÙŠØ© Ø´Ù…ÙˆÙ„ÙŠØ© Ù…Ø¹ Ù…Ø±ÙƒØ² Will County Ù„ØµØ­Ø© Ø§Ù„Ù…Ø¬ØªÙ…Ø¹: Ø±Ø¹Ø§ÙŠØ© ÙˆÙ‚Ø§Ø¦ÙŠØ© ÙˆØ£ÙˆÙ„ÙŠØ© ÙˆØ®Ø¯Ù…Ø§Øª Ù…Ø³Ø§Ù†Ø¯Ø© ÙˆØ£Ø¯ÙˆÙŠØ©.'
          },
          hhh: {
            en: 'Bridging health and housing with coordination, rental assistance, and respite.',
            es: 'Puente entre salud y vivienda con coordinaciÃ³n, asistencia de alquiler y respiro mÃ©dico.',
            pl: 'ÅÄ…czenie zdrowia i mieszkalnictwa poprzez koordynacjÄ™, pomoc w opÅ‚acaniu czynszu i miejsca wytchnieniowe.',
            ar: 'Ø±Ø¨Ø· Ø§Ù„ØµØ­Ø© Ø¨Ø§Ù„Ø¥Ø³ÙƒØ§Ù† Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ØŒ ÙˆÙ…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¥ÙŠØ¬Ø§Ø±ØŒ ÙˆØ§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ù…Ø¤Ù‚ØªØ©.'
          },
          cahpb: {
            en: 'Collaborative for research and policy to expand access and equity.',
            es: 'ColaboraciÃ³n para investigaciÃ³n y polÃ­tica que amplÃ­a acceso y equidad.',
            pl: 'WspÃ³Å‚praca badawczo-polityczna na rzecz zwiÄ™kszenia dostÄ™pu i rÃ³wnoÅ›ci.',
            ar: 'Ø´Ø±Ø§ÙƒØ© Ù„Ù„Ø¨Ø­Ø« ÙˆØ§Ù„Ø³ÙŠØ§Ø³Ø§Øª Ø¨Ù‡Ø¯Ù ØªÙˆØ³ÙŠØ¹ Ù†Ø·Ø§Ù‚ Ø§Ù„ÙˆØµÙˆÙ„ ÙˆØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ø¹Ø¯Ø§Ù„Ø©.'
          }
        };
        const cards = [
          { key: 'traditional', title: titles.traditional[lang] || titles.traditional.en, href: 'program-traditional.html', img: 'images/9D7366CA-9E18-4867-B3B8-4C4EB12CBFE8_1_201_a-1024x683.jpeg', alt: 'Traditional clinic care' },
          { key: 'partnership', title: titles.partnership[lang] || titles.partnership.en, href: 'program-partnership.html', img: 'images/WGMC Health Partnership Logo_Only Icon.jpg', alt: 'Partnership program' },
          { key: 'hhh', title: titles.hhh[lang] || titles.hhh.en, href: 'program-hhh.html', img: 'images/56BF34F3-FE6F-4A91-9D9A-95FD834DE187_1_201_a-1024x692.jpeg', alt: 'Housing, Healthcare, and Hope' },
          { key: 'cahpb', title: titles.cahpb[lang] || titles.cahpb.en, href: 'program-cahpb.html', img: 'images/Slide2-4-768x994.png', alt: 'CAHPB research and policy' }
        ];
        return (
          <section id="programs" className="max-w-6xl mx-auto px-4 sm:px-6 py-12">
            <h2 className="text-2xl font-bold text-brand-primary heading-accent">{t.programs}</h2>
            <div className="brand-divider mt-4" aria-hidden></div>
            <div className="mt-6 grid sm:grid-cols-2 lg:grid-cols-4 gap-4 items-stretch">
              {cards.map((c) => (
                <Reveal
                  key={c.key}
                  className="rounded-brand bg-white shadow-card border border-slate-100 transition hover:-translate-y-1 hover:shadow-lg cursor-pointer overflow-hidden h-full flex flex-col"
                  onClick={() => { window.analytics.track('open_program_card', { id: c.key, from: 'card' }); location.href = c.href + '?lang=' + lang; }}
                  tabIndex={0}
                  onKeyDown={(e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); window.analytics.track('open_program_card', { id: c.key, from: 'card' }); location.href = c.href + '?lang=' + lang; } }}
                >
                  <img src={c.img} alt={c.alt} loading="lazy" className="w-full h-28 object-cover" />
                  <div className="p-5 flex flex-col gap-3 h-full">
                    <h3 className="font-semibold text-lg">{c.title}</h3>
                    <p className="text-slate-700 text-sm flex-1">
                      {descriptions[c.key][lang] || descriptions[c.key].en}
                    </p>
                    <a
                      href={c.href + '?lang=' + lang}
                      onClick={(e) => { e.stopPropagation(); window.analytics.track('open_program_card', { id: c.key, from: 'button' }); }}
                      className="mt-auto btn btn-secondary justify-center"
                    >
                      {t.learnMore}
                    </a>
                  </div>
                </Reveal>
              ))}
            </div>
          </section>
        );
      }

      function Locations({ t, lang }) {
        const items = [
          {
            id: 'clinic',
            names: {
              en: 'WGMC Main Clinic',
              es: 'ClÃ­nica principal WGMC',
              pl: 'GÅ‚Ã³wna klinika WGMC',
              ar: 'Ø§Ù„Ø¹ÙŠØ§Ø¯Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù€ WGMC'
            },
            address: '213 East Cass Street, Joliet, IL 60432',
            tel: '+18157263377',
            hours: 'Mondayâ€“Thursday: 9:00 a.m. â€“ 5:00 p.m.\nSaturday Clinics (Twice Monthly): 9:00 a.m. â€“ 2:00 p.m. (By appointment only)',
            map: 'https://maps.google.com/?q=213+E+Cass+St,+Joliet,+IL+60432'
          }
        ];
        return (
          <section id="locations" className="bg-brand-wash wave-top">
            <div className="max-w-6xl mx-auto px-4 sm:px-6 py-12">
              <h2 className="text-2xl font-bold text-brand-primary heading-accent">{t.locations}</h2>
              <div className="brand-divider mt-4" aria-hidden></div>
              <div className="mt-6 grid md:grid-cols-2 gap-4">
                {items.map((loc) => (
                  <div key={loc.id} className="rounded-brand bg-white shadow-card border border-slate-100 overflow-hidden">
                    <img src="images/1E325562-7F25-48EA-9204-458F7F837568_1_201_a-scaled.jpeg" alt="WGMC clinic and team" loading="lazy" className="w-full h-32 object-cover" />
                    <div className="p-5">
                      <h3 className="font-semibold text-lg">{loc.names[lang] || loc.names.en}</h3>
                    <p className="mt-1 text-slate-700">{loc.address}</p>
                    <div className="mt-3">
                      <Accordion title={t.hours} onOpen={() => window.analytics.track('open_hours', { id: loc.id })}>
                        <pre className="whitespace-pre-wrap font-sans text-sm text-slate-700">{loc.hours}</pre>
                      </Accordion>
                    </div>
                    <div className="mt-3 flex flex-wrap gap-3">
                      <a
                        href={`tel:${loc.tel}`}
                        onClick={() => window.analytics.track('click_call', { from: 'location_card', id: loc.id })}
                        className="btn btn-primary"
                      >
                        ğŸ“ {t.callNow}
                      </a>
                      <a
                        href={loc.map}
                        target="_blank" rel="noreferrer"
                        onClick={() => window.analytics.track('open_map', { id: loc.id })}
                        className="btn btn-outline"
                      >
                        ğŸ—ºï¸ {t.openInMaps}
                      </a>
                    </div>
                    </div>
                  </div>
                ))}
                <div className="rounded-brand overflow-hidden shadow-card border border-slate-100 h-80">
                  <iframe title="WGMC Map" width="100%" height="100%" loading="lazy" referrerPolicy="no-referrer-when-downgrade" src="https://maps.google.com/maps?q=213%20East%20Cass%20Street,%20Joliet,%20IL%2060432&z=15&output=embed"></iframe>
                </div>
              </div>
            </div>
          </section>
        );
      }

      function Volunteer({ t }) {
        const formUrl = 'https://docs.google.com/forms/d/e/1FAIpQLSdX4u4lDzLiGlgGowQ53N0wAnrK_RlHxDpqgTbyi_cbiDdU-g/viewform';
        return (
          <section id="volunteer" className="max-w-6xl mx-auto px-4 sm:px-6 py-12">
            <div className="rounded-brand bg-gradient-to-r from-brand-secondary/70 to-brand-primary/70 text-brand-black shadow-card p-6 border border-slate-100 flex flex-col sm:flex-row items-center justify-between gap-6">
              <div className="flex-1">
                <h2 className="text-2xl font-bold text-brand-primary heading-accent">{t.volunteer}</h2>
                <p className="mt-2 text-slate-700">
                  {t.langCode === 'en'
                    ? 'Join our mission. Clinical and non-clinical roles available.'
                    : 'Ãšnase a nuestra misiÃ³n. Roles clÃ­nicos y no clÃ­nicos disponibles.'}
                </p>
              </div>
              <img src="images/Slide1-2-768x994.png" alt="Volunteer at WGMC" loading="lazy" className="w-32 h-32 object-cover rounded-xl shadow-card hidden sm:block" />
              <a
                href={formUrl}
                target="_blank" rel="noreferrer"
                onClick={() => window.analytics.track('volunteer_click')}
                className="btn btn-light"
              >
                {t.volunteerCta}
              </a>
            </div>
          </section>
        );
      }

      function SupportWGMC({ t, lang }) {
        const links = [
          { key: 'sponsor', title: t.sponsorPatient, href: 'https://www.paypal.com/ncp/payment/U2RHP4GV8MDUW' },
          { key: 'general', title: t.generalDonation, href: 'https://www.paypal.com/donate/?hosted_button_id=QB3XVPDN3EBDJ' },
          { key: 'brick', title: t.brickByBrick, href: 'https://willgrundymedicalclinic.org/brick-by-brick/' }
        ];
        return (
          <section id="support" className="bg-brand-wash wave-top">
            <div className="max-w-6xl mx-auto px-4 sm:px-6 py-12">
              <h2 className="text-2xl font-bold text-brand-primary heading-accent">{t.support}</h2>
              <div className="brand-divider mt-4" aria-hidden></div>
              <div className="mt-6 grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
                {links.map((l) => (
                  <div key={l.key} className="rounded-brand bg-white shadow-card p-6 border border-slate-100 flex flex-col">
                    <h3 className="font-semibold text-lg">{l.title}</h3>
                    <p className="mt-2 text-slate-700 text-sm">
                      {l.key === 'sponsor' &&
                        ({
                          en: 'Fund care for a patient directly.',
                          es: 'Financie la atenciÃ³n de un paciente directamente.',
                          pl: 'Sfinansuj bezpoÅ›rednio opiekÄ™ dla pacjenta.',
                          ar: 'Ù…ÙˆÙ‘Ù„ Ø±Ø¹Ø§ÙŠØ© Ù…Ø±ÙŠØ¶ Ø¨Ø´ÙƒÙ„ Ù…Ø¨Ø§Ø´Ø±.'
                        }[lang] || 'Fund care for a patient directly.')}
                      {l.key === 'general' &&
                        ({
                          en: 'Support free care where it is most needed.',
                          es: 'Apoye la atenciÃ³n gratuita donde mÃ¡s se necesita.',
                          pl: 'Wesprzyj bezpÅ‚atnÄ… opiekÄ™ tam, gdzie jest najbardziej potrzebna.',
                          ar: 'Ø§Ø¯Ø¹Ù… Ø§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠØ© Ø­ÙŠØ« ØªÙƒÙˆÙ† Ø§Ù„Ø­Ø§Ø¬Ø© Ø£ÙƒØ¨Ø±.'
                        }[lang] || 'Support free care where it is most needed.')}
                      {l.key === 'brick' &&
                        ({
                          en: 'Honor someone with a commemorative brick.',
                          es: 'Honre a alguien con un ladrillo conmemorativo.',
                          pl: 'Uczcij kogoÅ› pamiÄ…tkowÄ… cegieÅ‚kÄ….',
                          ar: 'ÙƒØ±Ù‘Ù… Ø´Ø®ØµÙ‹Ø§ Ø¨Ø·ÙˆØ¨Ø© ØªØ°ÙƒØ§Ø±ÙŠØ©.'
                        }[lang] || 'Honor someone with a commemorative brick.')}
                    </p>
                    <a
                      href={l.href}
                      target="_blank" rel="noreferrer"
                      onClick={() => window.analytics.track('donate_click', { placement: 'support_section', kind: l.key })}
                      className="mt-4 btn btn-primary"
                    >
                      {t.donateNow}
                    </a>
                  </div>
                ))}
              </div>
            </div>
          </section>
        );
      }

      function MobileCTA({ t }) {
        const share = async () => {
          try {
            if (navigator.share) {
              await navigator.share({ title: 'WGMC', text: 'Free care at WGMC', url: location.href });
            } else {
              await navigator.clipboard.writeText(location.href);
              alert('Link copied');
            }
          } catch (_) {}
        };
        return (
          <div className="fixed bottom-4 inset-x-0 px-4 sm:hidden z-40">
            <div className="max-w-md mx-auto bg-white rounded-full shadow-card border border-slate-200 flex items-center justify-between">
              <a
                href="tel:+18157263377"
                onClick={() => window.analytics.track('click_call', { from: 'mobile_cta' })}
                className="w-1/3 text-center btn btn-primary rounded-full"
              >
                {t.mobile.call}
              </a>
              <a
                href="#locations"
                className="w-1/3 text-center btn btn-outline rounded-full"
              >
                {t.mobile.directions}
              </a>
              <button
                onClick={() => { share(); window.analytics.track('share_click'); }}
                className="w-1/3 text-center btn btn-neutral rounded-full"
                aria-label="Share"
              >
                {t.mobile.share}
              </button>
            </div>
          </div>
        );
      }

      function Footer({ t }) {
        const address = '213 East Cass Street, Joliet, IL 60432';
        const hours = 'Mondayâ€“Thursday: 9:00 a.m. â€“ 5:00 p.m.\nSaturday Clinics (Twice Monthly): 9:00 a.m. â€“ 2:00 p.m. (By appointment only)';
        const mapUrl = 'https://maps.google.com/?q=213+E+Cass+St,+Joliet,+IL+60432';
        return (
          <footer className="mt-12 bg-brand-secondary text-brand-black" aria-labelledby="footer-heading" role="contentinfo">
            <div className="h-1 bg-gradient-to-r from-brand-primary to-brand-secondary" aria-hidden></div>
            <h2 id="footer-heading" className="sr-only">Footer</h2>
            <div className="max-w-6xl mx-auto px-4 sm:px-6 py-14">
              <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-10">
                <div>
                  <div className="flex items-center gap-3">
                    <img src="images/WGMC-Logo-Alternate-1-website.jpg" alt="WGMC logo" className="h-10 w-auto" />
                    <span className="font-semibold">WGMC</span>
                  </div>
                  <h3 className="mt-5 font-semibold">{t.aboutHeading}</h3>
                  <p className="mt-2 text-black/80 text-sm leading-6">{t.aboutBlurb}</p>
                  <div className="mt-5 flex flex-wrap gap-3">
                    <a href="tel:+18157263377" onClick={() => window.analytics.track('click_call', { from: 'footer' })} className="btn btn-light">ğŸ“ {t.callNow}</a>
                    <a href={`patients.html?lang=${document.documentElement.lang}`} className="btn btn-outline bg-white/10">{t.forPatients}</a>
                  </div>
                </div>
                <div>
                  <h3 className="font-semibold">{t.footerCols.getCare}</h3>
                  <ul className="mt-3 space-y-2 text-sm leading-6 text-black/90">
                    <li><a className="hover:underline" href="#get-care">{t.getCareFlow}</a></li>
                    <li><a className="hover:underline" href="#get-care-eligibility">{t.eligibility}</a></li>
                    <li><a className="hover:underline" href="#get-care-documents">{t.documents}</a></li>
                    <li><a className="hover:underline" href="#get-care">{t.visit}</a></li>
                    <li><a className="hover:underline" href="#get-care">{t.aftercare}</a></li>
                  </ul>
                </div>
                <div>
                  <h3 className="font-semibold">{t.footerCols.programs}</h3>
                  <ul className="mt-3 space-y-2 text-sm leading-6 text-black/90">
                    <li><a className="hover:underline" href={`program-traditional.html?lang=${document.documentElement.lang}`}>{document.documentElement.lang === 'es' ? 'Programa Tradicional' : 'Traditional Program'}</a></li>
                    <li><a className="hover:underline" href={`program-partnership.html?lang=${document.documentElement.lang}`}>{document.documentElement.lang === 'es' ? 'Programa de Alianzas WGMC' : 'WGMC Partnership Program'}</a></li>
                    <li><a className="hover:underline" href={`program-hhh.html?lang=${document.documentElement.lang}`}>{document.documentElement.lang === 'es' ? 'Vivienda, Salud y Esperanza (HHH)' : 'Housing, Healthcare, and Hope (HHH)'}</a></li>
                    <li><a className="hover:underline" href={`program-cahpb.html?lang=${document.documentElement.lang}`}>CAHPB</a></li>
                  </ul>
                </div>
                <div>
                  <h3 className="font-semibold">{t.footerCols.visit}</h3>
                  <ul className="mt-3 space-y-2 text-sm leading-6 text-black/90">
                    <li><strong>{t.addressLabel}:</strong> {address}</li>
                    <li><strong>{t.phone}:</strong> (815) 726-3377</li>
                    <li>
                      <strong>{t.hours}:</strong>
                      <pre className="whitespace-pre-wrap font-sans text-sm mt-1">{hours}</pre>
                    </li>
                  </ul>
                  <div className="mt-4 flex flex-wrap gap-3">
                    <a href={mapUrl} target="_blank" rel="noreferrer" onClick={() => window.analytics.track('open_map', { from: 'footer' })} className="btn btn-light">ğŸ—ºï¸ {t.openInMaps}</a>
                    <a href="https://www.paypal.com/donate/?hosted_button_id=QB3XVPDN3EBDJ" target="_blank" rel="noreferrer" onClick={() => window.analytics && window.analytics.track('donate_click', { placement:'footer', kind:'general' })} className="btn btn-secondary">{t.donate}</a>
                  </div>
                  <div className="mt-5 text-sm leading-6">
                    <div className="font-semibold">{t.support}</div>
                    <ul className="mt-2 space-y-1">
                      <li><a className="hover:underline" href="https://www.paypal.com/ncp/payment/U2RHP4GV8MDUW" target="_blank" rel="noreferrer" onClick={() => window.analytics && window.analytics.track('donate_click', { placement:'footer', kind:'sponsor' })}>{t.sponsorPatient}</a></li>
                      <li><a className="hover:underline" href="https://willgrundymedicalclinic.org/brick-by-brick/" target="_blank" rel="noreferrer" onClick={() => window.analytics && window.analytics.track('donate_click', { placement:'footer', kind:'brick' })}>{t.brickByBrick}</a></li>
                    </ul>
                  </div>
                </div>
              </div>
                  <div className="mt-10 border-t border-black/10 pt-6 text-xs text-black/70 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">
                <div>Â© {new Date().getFullYear()} Will-Grundy Medical Clinic</div>
                <div className="space-x-4">
                  <a className="hover:underline" href="#get-care">{t.getCare}</a>
                  <a className="hover:underline" href="#programs">{t.programs}</a>
                  <a className="hover:underline" href="#locations">{t.locations}</a>
                  <a className="hover:underline" href="#volunteer">{t.volunteer}</a>
                </div>
              </div>
            </div>
          </footer>
        );
      }

      function App() {
        const [lang, setLang] = useLang();
        const t = i18n[lang];
        useEffect(() => {
          // Track initial page view
          window.analytics.track('view_app');
        }, []);
        return (
          <div>
            <AlertBar t={t} />
            <Header t={t} lang={lang} onToggleLang={setLang} />
            <main id="main" className="pb-24 sm:pb-0">
              <Hero t={t} />
              <PhotoStrip />
              <Programs t={t} lang={lang} />
              <GetCare t={t} />
              <ImpactStats />
              <Locations t={t} lang={lang} />
              <Volunteer t={t} />
              <SupportWGMC t={t} lang={lang} />
            </main>
            <Footer t={t} />
            <MobileCTA t={t} />
          </div>
        );
      }

      ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
    <script src="chatbot.js"></script>
  </body>
  </html>
